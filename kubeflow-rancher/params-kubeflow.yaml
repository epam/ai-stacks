parameters:
- name: kubeflow
  parameters:
  - name: namespace
    value: kubeflow
  - name: version
    value: v1.6.1
  - name: authn.oidcRedirectURI
    value: ${ingress.protocol}://kubeflow.${dns.domain}/login/oidc
  - name: authn.oidcSecret
    brief: |
      OpenID connect client mutual trust secret between Dex and Argo
      tip: you can use random values
    fromEnv: KUBEFLOW_OIDC_CLIENT_SECRET
  - name: authn.volumeSize
    value: 1Gi

- name: ingress.host
  component: istio-ingressgateway
  value: kubeflow.${dns.domain}

- name: mysql.database
  component: kubeflow-katib
  value: katib
- name: mysql.database
  component: kubeflow-metadata
  value: metadb
- name: mysql.database
  component: kubeflow-pipelines
  value: pipelineDb

- name: bucket
  component: kubeflow-pipelines
  parameters:
  - name: host
    value: minio.${minio.namespace}.svc.cluster.local
  - name: port
    value: 9000
  - name: endpoint
    value: http://minio.${minio.namespace}.svc.cluster.local:9000
  - name: name
    fromEnv: ML_PIPELINES_BUCKET
    default: mlpipelines
    brief: Name of the bucket used across KFP, Minio and Argo

outputs:
- name: kubeflow.url
  brief: Kubeflow Central Dashboard
  value: ${ingress.protocol}://kubeflow.${dns.domain}
